<div class="guideline-header form-style" *ngIf="this.guideline">
    <div class="guideline-inner-wrapper" >
      <button class="back-button" (click)="onBackButtonClicked()">&larr; &nbsp; &nbsp; Zurück</button>
      <div class="guideline-description">
        <h2>{{guideline?.nameOfGuideline}}</h2>
        <label for="name">Name</label>
        <input type="text" [(ngModel)]="guideline.nameOfGuideline" name="nameOfGuideline">
        <label for="name">Verfügbar für folgende Gruppen:</label>
        <e1-access-unit-selection-list [(ngModel)]="this.guideline.availableFor" name="read"></e1-access-unit-selection-list>
        <label for="active">Öffentlich?</label>
        <input type="checkbox" name="active" [(ngModel)]="guideline.active">
        <label for="internalAuthor">Interner Autor</label>
        <input type="text" name="internalAuthor" [(ngModel)]="guideline.internalAuthor">
        <label for="validity">Gültig bis</label>
        <input type="date" name="validity" [(ngModel)]="guideline.validity" maxlength="100">
        <label for="publisher">Publisher</label>
        <input type="text" name="publisher"  [(ngModel)]="guideline.publisher" maxlength="200">
        <label for="source">PDF URL</label>
        <input type="text" name="source" [(ngModel)]="guideline.source">
        <label for="name">Keywords</label>
        <tag-input [(ngModel)]='guideline.keywords' [modelAsStrings]="true" [editable]="true"></tag-input>
      </div>
      <label for="selectionTitle">Level-Auswahl-Titel:</label>
      <input type="text" [(ngModel)]="guideline.selectionTitle" name="selectionTitle">

      <label for="sublevelDisplayType">Sublevel-Darstellung:</label>
      <select [(ngModel)]="this.guideline.sublevelDisplayType">
        <option [ngValue]="'vertical'"> Vertikale Liste </option>
        <option [ngValue]="'horizontal'"> Horizontale Kacheln </option>
      </select>
      <e1-edit-level-list [levels]="this.guideline.levels"></e1-edit-level-list>
      <div class="button-area">
          <button class="cancel" (click)="cancel()">Abbrechen</button>
          <button class="delete" *ngIf="this.guideline._id !== undefined" (click)="delete()">Löschen</button>
          <button class="update_preview" (click)="updatePreview()">Vorschau</button>
          <button class="save" (click)="save()">Speichern</button>
    </div>
    <textarea class="code" [(ngModel)]="currentCode" (ngModelChange)="currentCodeChangedManually($event)">
    </textarea>
    <!-- <div class="loading-animation" *ngIf="this.loading"></div> -->
    <h2 style="text-align:center;">Vorschau</h2>
</div>

<br><br><br>



<e1-guideline [guideline]="transferGuideline" *ngIf="transferGuideline !== undefined"></e1-guideline>